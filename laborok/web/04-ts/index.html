
<!doctype html>
<html lang="hu" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Albert István, Ekler Péter, Gazdi László, Gincsai Gábor, Somogyi Ferenc Attila, Tóth Tibor">
      
      
      
        <link rel="prev" href="../03-js/">
      
      
        <link rel="next" href="../05-react-01/">
      
      <link rel="icon" href="../../../favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.14">
    
    
      
        <title>Labor 04 – TypeScript, AJAX - BMEVIAUBB03 - Kliensalkalmazások laborfeladatok</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../extra-material-theme.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="aut" data-md-color-primary="red" data-md-color-accent="red">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#labor-04-typescript-ajax" class="md-skip">
          Kihagyás
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Élőfej">
    <a href="../../.." title="BMEVIAUBB03 - Kliensalkalmazások laborfeladatok" class="md-header__button md-logo" aria-label="BMEVIAUBB03 - Kliensalkalmazások laborfeladatok" data-md-component="logo">
      
  <img src="../../../logo-bme-aut.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BMEVIAUBB03 - Kliensalkalmazások laborfeladatok
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Labor 04 – TypeScript, AJAX
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="aut" data-md-color-primary="red" data-md-color-accent="red"  aria-label="Váltás sötét témára"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Váltás sötét témára" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent=""  aria-label="Váltás világos témára"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Váltás világos témára" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Keresés" placeholder="Keresés" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Keresés">
        
        <button type="reset" class="md-search__icon md-icon" title="Törlés" aria-label="Törlés" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Keresés inicializálása
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bmeviaubb03/laborok" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviaubb03/laborok
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Lapok" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Tudnivalók
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../01-http/" class="md-tabs__link md-tabs__link--active">
        Webes laborok
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../android/basics/" class="md-tabs__link">
        Mobilos laborok
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../hf/web/" class="md-tabs__link">
        Házi feladat
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigáció" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="BMEVIAUBB03 - Kliensalkalmazások laborfeladatok" class="md-nav__button md-logo" aria-label="BMEVIAUBB03 - Kliensalkalmazások laborfeladatok" data-md-component="logo">
      
  <img src="../../../logo-bme-aut.png" alt="logo">

    </a>
    BMEVIAUBB03 - Kliensalkalmazások laborfeladatok
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bmeviaubb03/laborok" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviaubb03/laborok
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Tudnivalók
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Tudnivalók
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Tárgy ismertető
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tudnivalok/github/GitHub/" class="md-nav__link">
        Feladatok beadása (GitHub)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tudnivalok/github/GitHub-Actions/" class="md-nav__link">
        GitHub Actions ismertető
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tudnivalok/github/GitHub-credentials/" class="md-nav__link">
        Egyetemi laborokban: GitHub belépés
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tudnivalok/github/contributing/" class="md-nav__link">
        Hozzájárulás az anyaghoz
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Webes laborok
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Webes laborok
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01-http/" class="md-nav__link">
        Labor 01 – HTTP, HTML
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02-css/" class="md-nav__link">
        Labor 02 – CSS és Bootstrap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../03-js/" class="md-nav__link">
        Labor 03 – JavaScript alapok
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Labor 04 – TypeScript, AJAX
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Labor 04 – TypeScript, AJAX
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bevezetes" class="md-nav__link">
    Bevezetés
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elokeszulet" class="md-nav__link">
    Előkészület
  </a>
  
    <nav class="md-nav" aria-label="Előkészület">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git-repository-letrehozasa-es-letoltese" class="md-nav__link">
    Git repository létrehozása és letöltése
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-feladat-blackjack-kiindulo-projekt-megismerese" class="md-nav__link">
    1. feladat – BlackJack kiinduló projekt megismerése
  </a>
  
    <nav class="md-nav" aria-label="1. feladat – BlackJack kiinduló projekt megismerése">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beadando" class="md-nav__link">
    Beadandó
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-feladat-jatek-inditasa" class="md-nav__link">
    2. feladat – Játék indítása
  </a>
  
    <nav class="md-nav" aria-label="2. feladat – Játék indítása">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uj-kartya-huzasa" class="md-nav__link">
    Új kártya húzása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beadando_1" class="md-nav__link">
    Beadandó
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-feladat-onallo-feladatok" class="md-nav__link">
    3. feladat – Önálló feladatok
  </a>
  
    <nav class="md-nav" aria-label="3. feladat – Önálló feladatok">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beadando_2" class="md-nav__link">
    Beadandó
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05-react-01/" class="md-nav__link">
        Labor 05 – Preact bevezető
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06-react-02/" class="md-nav__link">
        Labor 06 – Preact haladó
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05-angular-01/" class="md-nav__link">
        *** Régi tematika *** - Labor 05 – Angular bevezető
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06-angular-02/" class="md-nav__link">
        *** Régi tematika *** - Labor 06 – Angular haladó
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Mobilos laborok
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Mobilos laborok
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/basics/" class="md-nav__link">
        Labor 00 - Alapok (HelloWorld)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/ui-basics/" class="md-nav__link">
        Labor 01 - Felhasználói felület készítés (PublicTransport)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/ui-advanced-room/" class="md-nav__link">
        Labor 02 - Bevásárló alkalmazás készítése - Fragmentek, Navigation, Room (ShoppingList)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/ui-compose-basics/" class="md-nav__link">
        Labor 03 - Felhasználói felület készítése Jetpack Compose-zal (WorkplaceApp)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/compose-advanced-network/" class="md-nav__link">
        Labor 04 - Időjárás alkalmazás készítése - Compose, Network (Weather Info)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Házi feladat
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Házi feladat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hf/web/" class="md-nav__link">
        Webes házi feladat információk - 2025 tavasz
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hf/mobil/" class="md-nav__link">
        Mobilos házi feladat információk - 2025 tavasz
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bevezetes" class="md-nav__link">
    Bevezetés
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elokeszulet" class="md-nav__link">
    Előkészület
  </a>
  
    <nav class="md-nav" aria-label="Előkészület">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git-repository-letrehozasa-es-letoltese" class="md-nav__link">
    Git repository létrehozása és letöltése
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-feladat-blackjack-kiindulo-projekt-megismerese" class="md-nav__link">
    1. feladat – BlackJack kiinduló projekt megismerése
  </a>
  
    <nav class="md-nav" aria-label="1. feladat – BlackJack kiinduló projekt megismerése">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beadando" class="md-nav__link">
    Beadandó
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-feladat-jatek-inditasa" class="md-nav__link">
    2. feladat – Játék indítása
  </a>
  
    <nav class="md-nav" aria-label="2. feladat – Játék indítása">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uj-kartya-huzasa" class="md-nav__link">
    Új kártya húzása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beadando_1" class="md-nav__link">
    Beadandó
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-feladat-onallo-feladatok" class="md-nav__link">
    3. feladat – Önálló feladatok
  </a>
  
    <nav class="md-nav" aria-label="3. feladat – Önálló feladatok">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beadando_2" class="md-nav__link">
    Beadandó
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="labor-04-typescript-ajax">Labor 04 – TypeScript, AJAX<a class="headerlink" href="#labor-04-typescript-ajax" title="Permanent link">&para;</a></h1>
<h2 id="bevezetes">Bevezetés<a class="headerlink" href="#bevezetes" title="Permanent link">&para;</a></h2>
<p>A labor folyamán a hallgatók a laborvezető segítségével és önállóan végeznek feladatokat a webes technológiák gyakorlati megismerése érdekében.</p>
<p>Felhasznált technológiák és eszközök:</p>
<ul>
<li>
<p>webböngészők beépített hibakereső eszközei,</p>
</li>
<li>
<p>npm, a <a href="https://nodejs.org/en/download/">NodeJS</a> csomagkezelője,</p>
</li>
<li>
<p><a href="https://code.visualstudio.com/download">Visual Studio Code</a> kódszerkesztő alkalmazás,</p>
</li>
<li>otthoni vagy egyéni munkavégzéshez használható bármilyen más kódszerkesztő vagy fejlesztőkörnyezet, de a környezet kapcsán felmerülő eltérésekről önállóan kell gondoskodni.</li>
</ul>
<details class="note">
<summary>A TypeScriptről dióhéjban</summary>
<p>A TypeScript opcionális, statikus típusrendszerrel felturbózott JavaScript, tehát elsősorban szintaktikai édesítőszereket ad a JavaScripten felül, amik könnyebbé teszik a JavaScript alkalmazások fejlesztését.</p>
<p>A TypeScript kulcsfontosságú eleme a <code>tsc</code>, azaz a TypeScript compiler, aminek segítségével a TypeScript forráskódunkat fordíthatjuk le JavaScript forráskóddá (tehát ez egy <em>source-to-source compiler</em>, vagy más néven <em>transpiler</em>).</p>
<p><strong>A TypeScript a JavaScriptre épít, így minden JavaScript fájl egyben értelmezhető TypeScript kód is.</strong> A VS Code alapértelmezetten IntelliSense segítséget ad nekünk a JavaScript forrásokban is, ezt a TypeScript compiler segítségével teszi a háttérben.</p>
</details>
<h2 id="elokeszulet">Előkészület<a class="headerlink" href="#elokeszulet" title="Permanent link">&para;</a></h2>
<p>A feladatok megoldása során ne felejtsd el követni a <a href="../../../tudnivalok/github/GitHub/">feladatbeadás folyamatát</a>.</p>
<h3 id="git-repository-letrehozasa-es-letoltese">Git repository létrehozása és letöltése<a class="headerlink" href="#git-repository-letrehozasa-es-letoltese" title="Permanent link">&para;</a></h3>
<ol>
<li>A Moodle-ben keresd meg a laborhoz tartozó meghívó URL-jét, és annak segítségével hozd létre a saját repositorydat.</li>
<li>Várd meg, míg elkészül a repository, majd checkoutold ki.<ul>
<li>Egyetemi laborokban, ha a checkout során nem kér a rendszer felhasználónevet és jelszót, és nem sikerül a checkout, akkor valószínűleg a gépen korábban megjegyzett felhasználónévvel próbálkozott a rendszer. Először töröld ki a mentett belépési adatokat (lásd <a href="../../../tudnivalok/github/GitHub-credentials/">itt</a>), és próbáld újra.</li>
</ul>
</li>
<li>Hozz létre egy új ágat <code>megoldas</code> néven, és ezen az ágon dolgozz.</li>
<li>A <code>neptun.txt</code> fájlba írd bele a Neptun-kódodat. A fájlban semmi más ne szerepeljen, csak egyetlen sorban a Neptun-kód 6 karaktere.</li>
</ol>
<h2 id="1-feladat-blackjack-kiindulo-projekt-megismerese">1. feladat – BlackJack kiinduló projekt megismerése<a class="headerlink" href="#1-feladat-blackjack-kiindulo-projekt-megismerese" title="Permanent link">&para;</a></h2>
<p>Vizsgáljuk meg a kiinduló projektet! A kiinduló index.html a <code>&lt;head&gt;</code> részben hivatkozza a függőségeket, és később a HTML-állomány végén a saját <code>blackjack.js</code> fájlunkat. Vegyük észre, hogy ilyen fájl nem található, mi magunk kézzel nem is fogjuk létrehozni; ezt a TypeScript compiler fogja nekünk generálni az összes <code>.ts</code> fájlból kiindulva. Vizsgáljuk meg a <code>tsconfig.json</code> nevű fájlt, ami a TypeScript compiler konfigurációját tartalmazza!</p>
<p>Terminálból (<code>Ctrl+Ö</code>) adjuk ki az alábbi parancsot a <code>feladat</code> mappában:</p>
<blockquote>
<p><code>npm install</code></p>
</blockquote>
<p>Ezzel a paranccsal a <code>package.json</code> fájlban található függőségeket telepítjük a Node.js Package Manager (<code>npm</code>) segítségével. Itt a Bootstrap, a JQuery és a Popper osztálykönyvtárak találhatóak (utóbbi kettő a Bootstrap függősége).</p>
<p>Indítsuk el terminálból (célszerű Ctrl+Shift+Ö billentyűkombinációval egy új terminált indítani a szokásos <code>live-server</code> parancsnak) a TypeScript compilert <code>watch</code> módban, ami figyelni fogja az összes hivatkozott TypeScript-fájl módosítását, és újragenerálja szükség esetén a kimenetet:</p>
<blockquote>
<p><code>node_modules\.bin\tsc -w</code></p>
</blockquote>
<details class="warning">
<summary>macOS</summary>
<p>Ha macOS-en a fenti nem működik, a következő paranccsal próbálkozhatunk:</p>
<blockquote>
<p><code>tsc --watch</code></p>
</blockquote>
</details>
<details class="warning">
<summary>PowerShell</summary>
<p>Ha Windowson a script execution policyvel kapcsolatban kapnánk egy hibaüzenetet, a következő parancsot adjuk ki PowerShell terminálból (nem a VSCode-ból!):</p>
<blockquote>
<p><code>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned</code></p>
</blockquote>
</details>
<p>Indítást követően a következő képernyő fogad minket:</p>
<figure>
<p><a class="glightbox" href="assets/blackjack-start.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Kiinduló állapot" src="assets/blackjack-start.png" /></a>
  </p>
<figcaption>BlackJack kezdőképernyő</figcaption>
</figure>
<p>A Start gombra kattintva nem történik egyelőre semmi, később fogunk funkcionalitást rendelni hozzá.</p>
<p>Vizsgáljuk meg a <code>game.ts</code> fájl tartalmát!</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nx">Game</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="kr">constructor</span><span class="p">(</span><span class="k">public</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">deckId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">apiBaseUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://deckofcardsapi.com/api/&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">NewGame</span><span class="p">(</span><span class="nx">deckCount</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">NewDeck</span><span class="p">(</span><span class="nx">deckCount</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Game</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">deck_id</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">NewDeck</span><span class="p">(</span><span class="nx">deckCount</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">Call</span><span class="o">&lt;</span><span class="nx">NewDeckResponse</span><span class="o">&gt;</span><span class="p">(</span><span class="sb">`deck/new/shuffle/?deck_count=</span><span class="si">${</span><span class="nx">deckCount</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="nx">Draw</span><span class="p">(</span><span class="nx">count</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Game</span><span class="p">.</span><span class="nx">Call</span><span class="o">&lt;</span><span class="nx">DrawCardResponse</span><span class="o">&gt;</span><span class="p">(</span><span class="sb">`deck/</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">deckId</span><span class="si">}</span><span class="sb">/draw/?count=</span><span class="si">${</span><span class="nx">count</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">Call</span><span class="o">&lt;</span><span class="nx">ResponseType</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">DeckOfCardsResponse</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">relativeUrl</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">apiBaseUrl</span><span class="si">}${</span><span class="nx">relativeUrl</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">responseJson</span><span class="o">:</span><span class="w"> </span><span class="kt">ResponseType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">responseJson</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Error from Deck Of Cards API:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">responseJson</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">responseJson</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">dealersHand</span><span class="o">:</span><span class="w"> </span><span class="kt">Hand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Hand</span><span class="p">([],</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="nx">playersHand</span><span class="o">:</span><span class="w"> </span><span class="kt">Hand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Hand</span><span class="p">([],</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Ez az osztály a <a href="https://deckofcardsapi.com/" target="_blank">Deck of Cards API</a> klienseként szolgál.</li>
<li>Konstruktora privát, példányosítani egy <code>Game</code> objektumot a statikus, aszinkron <code>NewGame</code> függvény meghívásával lehetséges.</li>
<li>A konstruktorban jelzett <code>public</code> módosítószóval az objektumon automatikusan létrejön a konstruktorparaméter nevével és értékével egy egyszer beállítható, csak olvasható <code>deck_id</code> mező.</li>
<li>Minden távoli HTTP hívás a <code>Call</code> függvényen megy keresztül, ahol egy relatív útvonalat kell megadnunk, ami a <code>https://deckofcardsapi.com/api/</code>-hoz képesti relatív útvonalra indít egy aszinkron AJAX kérést a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" target="_blank">fetch</a> API használatával.</li>
<li>Érdemes észrevenni a C#-ból már ismerős <code>async/await</code> minta használatát. A <code>Call</code> függvény hívása ekvivalens az alábbi JavaScript-kóddal:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">Call</span><span class="p">(</span><span class="nx">relativeUrl</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">fetch</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">apiBaseUrl</span><span class="si">}${</span><span class="nx">relativeUrl</span><span class="si">}</span><span class="sb">`</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">responseJson</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">resolve</span><span class="p">(</span><span class="nx">responseJson</span><span class="p">),</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="nx">reject</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<p>Látható, hogy a kód ebben a formájában jóval kevésbé volna olvasható. A háttérben egy (esetenként komplex) állapotgépet készít a fordító, aminek segítségével ekvivalens működést tudunk elérni, csak nem egymásba ágyazott függvények, hanem <code>async/await</code> szintaxis segítségével.</p>
<p>Próbáljuk ki az alábbi hívást a böngésző URL-jébe írva:</p>
<blockquote>
<p><code>https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=6</code></p>
</blockquote>
<p>Az így kapott válaszból helyettesítsük be a <code>deck_id</code> értékét az alábbi hívásba, és azt is próbáljuk ki:</p>
<blockquote>
<p><code>https://deckofcardsapi.com/api/deck/&lt;&lt;deck_id&gt;&gt;/draw/?count=2</code></p>
</blockquote>
<p>Láthatjuk, hogy az így kapott válasz az alábbihoz hasonló lesz:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;deck_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;g7ldwoe33ss4&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;cards&quot;</span><span class="p">:</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JC&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;image&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://deckofcardsapi.com/static/img/JC.png&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="nt">&quot;images&quot;</span><span class="p">:</span><span class="w"> </span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;svg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://deckofcardsapi.com/static/img/JC.svg&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;png&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://deckofcardsapi.com/static/img/JC.png&quot;</span>
<span class="w">            </span><span class="p">},</span><span class="w"> </span>
<span class="w">            </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JACK&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="nt">&quot;suit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CLUBS&quot;</span>
<span class="w">        </span><span class="p">},</span><span class="w"> </span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AD&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;image&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://deckofcardsapi.com/static/img/aceDiamonds.png&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="nt">&quot;images&quot;</span><span class="p">:</span><span class="w"> </span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;svg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://deckofcardsapi.com/static/img/aceDiamonds.svg&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;png&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://deckofcardsapi.com/static/img/aceDiamonds.png&quot;</span>
<span class="w">            </span><span class="p">},</span><span class="w"> </span>
<span class="w">            </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ACE&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="nt">&quot;suit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DIAMONDS&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&quot;remaining&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">310</span>
<span class="p">}</span>
</code></pre></div></p>
<p>A fenti válasz típus leírója interfész formájában szerepel a <code>draw-card-response.ts</code> fájlban:</p>
<div class="highlight"><pre><span></span><code><span class="kd">interface</span><span class="w"> </span><span class="nx">DrawCardResponse</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">DeckOfCardsResponse</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">cards</span><span class="o">:</span><span class="w"> </span><span class="kt">Card</span><span class="p">[];</span>
<span class="p">}</span>
</code></pre></div>
<details class="tip" open="open">
<summary>TypeScript interfészek és típusosság</summary>
<p>A TypeScript - a szokásos objektum-orientált nyelvekkel ellentében - úgynevezett <code>structural subtyping</code>-ot vagy <code>duck typing</code>-ot használ. Ez azt jelenti, hogy TypeScript-ben az interfészek nem csak metódusok megvalósítását írhatják elő, hanem egy objektum struktúrájára is tehetnek megkötéseket. Egy objektumnak nem kell explicit implementálnia az adott interfészt, elég, hogyha megnézzük, hogy úgy "viselkedik-e", mint az adott interfész. Innen ered a <code>duck typing</code> kifejezés, vagyis ha valami úgy hápog és néz ki, mint egy kacsa, akkor az valószínűleg egy kacsa.</p>
</details>
<p>A fenti interfész egy kártyatömböt tartalmaz, továbbá származik a DeckOfCardsResponse-ból, melynek kódja az alábbi:</p>
<div class="highlight"><pre><span></span><code><span class="kd">interface</span><span class="w"> </span><span class="nx">DeckOfCardsResponse</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">success</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">    </span><span class="nx">deck_id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="nx">remaining</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>A kártyák pedig így néznek ki:</p>
<div class="highlight"><pre><span></span><code><span class="kd">interface</span><span class="w"> </span><span class="nx">Card</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">Rank</span><span class="p">;</span>
<span class="w">    </span><span class="nx">suit</span><span class="o">:</span><span class="w"> </span><span class="kt">Suit</span><span class="p">;</span>
<span class="w">    </span><span class="nx">code</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="nx">images</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Az <code>images</code> objektum egy stringekkel indexelhető objektum, ami stringeket tartalmaz. Ez képzi le a válasz "format" : "file" formátumát, ami a fenti példában látható ("svg" : "..."). A value Rank típusú, a suit Suit típusú, amik rendre az alábbi típusoknak felelnek meg:</p>
<div class="highlight"><pre><span></span><code><span class="kr">type</span><span class="w"> </span><span class="nx">Rank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ACE&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;4&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;5&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;6&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;7&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;8&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;9&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;10&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;JACK&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;QUEEN&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;KING&quot;</span><span class="p">;</span>
<span class="kr">type</span><span class="w"> </span><span class="nx">Suit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;SPADES&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;HEARTS&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;DIAMONDS&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;CLUBS&quot;</span><span class="p">;</span>
</code></pre></div>
<details class="tip" open="open">
<summary>Uniótípusok</summary>
<p>TypeScript-ben az <code>unió típusok</code> (<code>discriminated union type</code>) csak megadott értékeket vehetnek fel. Minden érték egyúttal saját maga típusa is, pl. az <code>"ACE"</code> érték egy olyan típus, ami kizárólag ezt az egyetlen értéket veheti fel. A fenti kódban a <code>Rank</code> és <code>Suit</code> unió típusok.</p>
</details>
<p>A játékunkat a statikus, aszinkron <code>NewGame</code> függvény meghívásával példányosíthatjuk. A játékban az osztó és a játékos kezét a <code>Hand</code> osztály reprezentálja:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nx">Hand</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="k">public</span><span class="w"> </span><span class="nx">cards</span><span class="o">:</span><span class="w"> </span><span class="kt">Card</span><span class="p">[],</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="nx">showFirst</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">get</span><span class="w"> </span><span class="nx">value</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">aces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">card</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">showFirst</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">this.cards</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">this.cards.slice</span><span class="p">(</span><span class="mf">1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">card</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;KING&quot;</span><span class="o">:</span>
<span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;QUEEN&quot;</span><span class="o">:</span>
<span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;JACK&quot;</span><span class="o">:</span>
<span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;10&quot;</span><span class="o">:</span>
<span class="w">                    </span><span class="nx">value</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span>
<span class="w">                    </span><span class="k">break</span><span class="p">;</span>
<span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;ACE&quot;</span><span class="o">:</span>
<span class="w">                    </span><span class="nx">aces</span><span class="o">++</span><span class="p">;</span>
<span class="w">                    </span><span class="nx">value</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">11</span><span class="p">;</span>
<span class="w">                    </span><span class="k">break</span><span class="p">;</span>
<span class="w">                </span><span class="nx">default</span><span class="o">:</span>
<span class="w">                    </span><span class="kt">const</span><span class="w"> </span><span class="nx">cardValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">card</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">cardValue</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span>
<span class="w">                        </span><span class="nx">value</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">cardValue</span><span class="p">;</span>
<span class="w">                    </span><span class="k">else</span>
<span class="w">                        </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`Unknown card value: </span><span class="si">${</span><span class="nx">card</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb"> (</span><span class="si">${</span><span class="nx">card</span><span class="p">.</span><span class="nx">code</span><span class="si">}</span><span class="sb">)`</span><span class="p">);</span>
<span class="w">                    </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="c1">// TODO: az ász érhessen 1-et is, ha túllépnénk vele a 21-et!</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">value</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>A <code>value</code> nevű mező csak lekérdezhető, számított érték: kiszámítja a kézben szereplő kártyák értékét.</p>
<h3 id="beadando">Beadandó<a class="headerlink" href="#beadando" title="Permanent link">&para;</a></h3>
<div class="admonition example">
<p class="admonition-title">1. feladat beadandó (0.25 pont)</p>
<p>Illessz be egy képernyőképet a böngészőről, ahol látható a <code>deckofcardsapi.com</code> oldalról a két kártya húzására kapott, JSON formátumú válasz! (<code>f1.png</code>)</p>
</div>
<h2 id="2-feladat-jatek-inditasa">2. feladat – Játék indítása<a class="headerlink" href="#2-feladat-jatek-inditasa" title="Permanent link">&para;</a></h2>
<p>A játék indításához vegyük fel a <code>start.ts</code> fájlba az alábbi kódrészletet:</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">game</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Game</span><span class="p">;</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;#start-game-button&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">e</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#start-game-button&quot;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span><span class="w"> </span>
<span class="w">    </span><span class="nx">game</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Game</span><span class="p">.</span><span class="nx">NewGame</span><span class="p">();</span>
<span class="w">    </span><span class="nx">game</span><span class="p">.</span><span class="nx">dealersHand</span><span class="p">.</span><span class="nx">cards</span><span class="p">.</span><span class="nx">push</span><span class="p">(...(</span><span class="k">await</span><span class="w"> </span><span class="nx">game</span><span class="p">.</span><span class="nx">Draw</span><span class="p">(</span><span class="mf">2</span><span class="p">)).</span><span class="nx">cards</span><span class="p">);</span>
<span class="w">    </span><span class="nx">game</span><span class="p">.</span><span class="nx">playersHand</span><span class="p">.</span><span class="nx">cards</span><span class="p">.</span><span class="nx">push</span><span class="p">(...(</span><span class="k">await</span><span class="w"> </span><span class="nx">game</span><span class="p">.</span><span class="nx">Draw</span><span class="p">(</span><span class="mf">2</span><span class="p">)).</span><span class="nx">cards</span><span class="p">);</span>
<span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#hit-button, #stand-button&quot;</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">game</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// TODO: kirajzolás</span>
<span class="p">});</span>
</code></pre></div>
<p>Ez a kód a dokumentum betöltődését követően figyel a <code>click</code> eseményekre. Ha a <code>start-game-button</code> ID-jú elemet nyomtuk meg, lefut a beregisztrált aszinkron callback eseménykezelő függvény, ami:</p>
<ul>
<li>elrejti a Start Game gombot,</li>
<li>aszinkron példányosítja a játék objektumot a <code>Game</code> osztály statikus, aszinkron <code>NewGame</code> függvényének meghívásával, amit értékül ad a globális <code>game</code> változónak,</li>
<li>húz 2 lapot az osztónak és a játékosnak, amit a játékosok kezeiben elhelyez, a <a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#spread" target="_blank">spread</a> operátorral kibontva a tömbből az egyes elemeket,</li>
<li>láthatóvá teszi a Hit és Stand gombokat,</li>
<li>a konzolra logolja a játék állapotát.</li>
</ul>
<figure>
<p><a class="glightbox" href="assets/blackjack-start-console-log.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Console.log()" src="assets/blackjack-start-console-log.png" /></a>
  </p>
<figcaption>Console.log() hívása indítás után</figcaption>
</figure>
<p>Láthatjuk, hogy a játék elindult, de még nem jelenítjük meg a szükséges adatokat. A render.ts fájlba vegyük fel az alábbi kódot:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">renderHands</span><span class="p">(</span><span class="nx">game</span><span class="o">:</span><span class="w"> </span><span class="kt">Game</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.hand-title&quot;</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
<span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.hand-container&quot;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// TODO: csak akkor mutatjuk meg az osztó első lapját, ha a játékos végzett (&quot;stand&quot;).</span>
<span class="w">    </span><span class="c1">// Ha nem látszik az első lap, helyette mutassunk hátlapot.</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">card</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">game</span><span class="p">.</span><span class="nx">dealersHand</span><span class="p">.</span><span class="nx">cards</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">addCardToContainer</span><span class="p">(</span><span class="s2">&quot;dealer&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">card</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">card</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">game</span><span class="p">.</span><span class="nx">playersHand</span><span class="p">.</span><span class="nx">cards</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">addCardToContainer</span><span class="p">(</span><span class="s2">&quot;player&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">card</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">renderCardValues</span><span class="p">(</span><span class="nx">game</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">addCardToContainer</span><span class="p">(</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;dealer&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;player&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">card</span><span class="o">:</span><span class="w"> </span><span class="kt">Card</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="sb">`#</span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">-container .hand-container`</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">getCardHtml</span><span class="p">(</span><span class="sb">`./img/cards/</span><span class="si">${</span><span class="nx">card</span><span class="p">.</span><span class="nx">code</span><span class="si">}</span><span class="sb">.png`</span><span class="p">,</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">card</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb"> of </span><span class="si">${</span><span class="nx">card</span><span class="p">.</span><span class="nx">suit</span><span class="si">}</span><span class="sb">`</span><span class="p">));</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">getCardHtml</span><span class="p">(</span><span class="nx">cardUrl</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">cardText</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="sb">`&lt;img class=&quot;card-image&quot; src=&quot;</span><span class="si">${</span><span class="nx">cardUrl</span><span class="si">}</span><span class="sb">&quot; title=&quot;</span><span class="si">${</span><span class="nx">cardText</span><span class="si">}</span><span class="sb">&quot; /&gt;`</span><span class="p">;</span>
<span class="p">}</span>


<span class="kd">function</span><span class="w"> </span><span class="nx">renderCardValues</span><span class="p">(</span><span class="nx">game</span><span class="o">:</span><span class="w"> </span><span class="kt">Game</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#dealer-container .cards-value&quot;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">game</span><span class="p">.</span><span class="nx">dealersHand</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#player-container .cards-value&quot;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">game</span><span class="p">.</span><span class="nx">playersHand</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>A függvények az alábbi funkcionalitással rendelkeznek:</p>
<ul>
<li><code>renderHands</code>: a paraméterül kapott játék állapotának megfelelően:<ul>
<li>megjeleníti a címsor mezőket,</li>
<li>kitörli az esetleg a DOM-ban levő kártyákat (felülírja őket egy üres stringgel),</li>
<li>az osztó és játékos lapjait egyenként kirendereli <code>addCardToContainer</code> függvény segítségével,</li>
<li>kirajzolja a kártyák aktuális értékét,</li>
</ul>
</li>
<li><code>addCardToContainer</code>: a megfelelő játékos kezébe kirajzolja a kártyát a <code>getCardHtml</code> függvény segítségével,</li>
<li><code>getCardHtml</code>: a paramétereknek alapján összeállítja a kártya képét reprezentáló HTML-t.</li>
</ul>
<p>Ezután a játék állapotát ki is tudjuk rajzolni, ha a játék indítását kezelő eseménykezelőnk végén (<code>start.ts</code>) meghívjuk a <code>renderHands</code> függvényt:</p>
<div class="highlight"><pre><span></span><code><span class="nx">renderHands</span><span class="p">(</span><span class="nx">game</span><span class="p">);</span>
</code></pre></div>
<figure>
<p><a class="glightbox" href="assets/blackjack-initial-render.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Első állapot megjelenítése" src="assets/blackjack-initial-render.png" /></a>
  </p>
<figcaption>Első állapot megjelenítése</figcaption>
</figure>
<h3 id="uj-kartya-huzasa">Új kártya húzása<a class="headerlink" href="#uj-kartya-huzasa" title="Permanent link">&para;</a></h3>
<p>A következő feladatunk a játék első lényegi eleme, az új kártya húzása. Ehhez a <code>start.ts</code> fájlba vegyünk fel egy új eseménykezelőt:</p>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;#hit-button&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">e</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.actions button&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;disabled&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">game</span><span class="p">.</span><span class="nx">playersHand</span><span class="p">.</span><span class="nx">cards</span><span class="p">.</span><span class="nx">push</span><span class="p">(...(</span><span class="k">await</span><span class="w"> </span><span class="nx">game</span><span class="p">.</span><span class="nx">Draw</span><span class="p">(</span><span class="mf">1</span><span class="p">)).</span><span class="nx">cards</span><span class="p">);</span>
<span class="w">    </span><span class="nx">renderHands</span><span class="p">(</span><span class="nx">game</span><span class="p">);</span>
<span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.actions button&quot;</span><span class="p">).</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s2">&quot;disabled&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// TODO: kezelni, ha a játékos túllépte a 21-et (bust)!</span>
<span class="p">});</span>
</code></pre></div>
<p>A fenti kód a korrábiakhoz képest értelemszerű, az egyetlen érdekesség, hogy a hívás előtt az akciógombokat letiltjuk (<code>attr</code>), a válasz megérkezése után pedig újra engedélyezzük őket (<code>removeAttr</code>).</p>
<h3 id="beadando_1">Beadandó<a class="headerlink" href="#beadando_1" title="Permanent link">&para;</a></h3>
<div class="admonition example">
<p class="admonition-title">2. feladat beadandó (0.25 pont)</p>
<p>Illessz be egy képernyőképet a játék állásásáról egy vagy több kártya húzása után! (<code>f2.png</code>)</p>
</div>
<h2 id="3-feladat-onallo-feladatok">3. feladat – Önálló feladatok<a class="headerlink" href="#3-feladat-onallo-feladatok" title="Permanent link">&para;</a></h2>
<p>A következő feladatok közül legfeljebb 3 feladat teljesítése ér pontot! Tehát bármennyit megcsinálhatsz, de maximum 1 pontot szerezhetsz a laboron (beleértve a vezetett részt is). Bármely fájlt módosíthatod, és akár létrehozhatsz vagy törölhetsz is továbbiakat.</p>
<ol>
<li>Az osztó első lapja ne legyen látható! Helyette használd a <code>back.png</code> fájlt! Ne legyen látható a <code>title</code> szöveg sem, ha az egeret a kártya fölé visszük!</li>
<li>Kezeld az ászok értékét: az ász 11-et ér, ha nem lépnénk túl vele a 21-et, egyébként 1-et.</li>
<li>Ha a játékos túllépi a 21-et: ebben az esetben jeleníts meg egy megfelelő üzenetet, és legyen lehetőség új játék indítására!</li>
<li>Ha a játékos megnyomja a Stand gombot: a játékos nem kér több lapot, ekkor viszont az osztó nem látható lapja felfedésre kerül, majd az osztó addig húz automatikusan, amíg el nem éri a játékos pontszámát vagy túllépi a 21-et (előbbi esetben az osztó nyer, utóbbiban veszít). A feszültség fokozása érdekében használhatod a <code>setTimeout(() =&gt; { /* ... */}, 2000)</code> hívást, amivel várakoztathatod a futást, mintha az osztó gondolkodna 2 másodpercig.</li>
<li>Kezeld, ha a játékos győz!</li>
<li>Kezeld a játékos pénzét! A játékos 1000$-ról indít, minden játék 100$-ba kerül, amit győzelem esetén a játékos duplán elnyer.</li>
<li>Kezeld a <em>split</em> szabályt: a játékos, ha a játék elején két ugyanolyan értékű lapja van, választhat egy új lehetőséget: <em>split</em>. Ekkor az egy-egy ugyanolyan értékű lap két külön kezébe kerül, a tét duplázódik, és mindkét új kezébe 1-1 új lapot kap. Mindkét kezéhez külön kéthet új lapot, vagy megállhat. A két keze külön-külön értékelődik ki az osztó lapjaival, tehát 0, 1 vagy 2 kezével nyerhet, ennek megfelelően részesül jutalomban.</li>
</ol>
<h3 id="beadando_2">Beadandó<a class="headerlink" href="#beadando_2" title="Permanent link">&para;</a></h3>
<div class="admonition example">
<p class="admonition-title">3. feladat beadandó (⅙-⅙ pont feladatonként, max. 0.5 pont)</p>
<p>Illessz be minden elkészített feladatról 1-1 képernyőképet! A pull request szövegébe írd bele azt is, hogy hanyadik feladatokat oldottad meg! (<code>f3.png</code>–<code>f9.png</code>)</p>
</div>

    <hr>
  <div class="md-source-file">
    <span class="md-source-file__fact"> <span class="md-icon" title="Utolsó frissítés"> <svg
          xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z">
          </path>
        </svg>
      </span>
      <span title="2025. március 10. 10:36:42">
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="2025. március 10. 10:36:42"><span class="timeago" datetime="2025-03-10T10:36:42+01:00" locale="hu"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2025. március 10. 10:36:42">2025-03-10</span>
      </span>
    </span>

    

    <span class="md-source-file__fact">
      <span class="md-icon" title="Szerzők">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z">
          </path>
        </svg>
      </span>
      <span>Szerzők</span>
      <nav><a href="https://github.com/Fsomogyi" target="_blank" rel="noopener noreferrer" class="md-author" title="@Fsomogyi">
          <img src="https://avatars.githubusercontent.com/u/5766384?v=4?size=72" alt="@Fsomogyi">
        </a><a href="https://github.com/gy-mate" target="_blank" rel="noopener noreferrer" class="md-author" title="@gy-mate">
          <img src="https://avatars.githubusercontent.com/u/13014176?v=4?size=72" alt="@gy-mate">
        </a><a href="https://github.com/web-flow" target="_blank" rel="noopener noreferrer" class="md-author" title="@web-flow">
          <img src="https://avatars.githubusercontent.com/u/19864447?v=4?size=72" alt="@web-flow">
        </a></nav>      
    </span>
  </div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Vissza a tetejére
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; BME VIK AUT
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.instant", "navigation.top", "search.suggest", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "V\u00e1g\u00f3lapra m\u00e1solva", "clipboard.copy": "M\u00e1sol\u00e1s v\u00e1g\u00f3lapra", "search.result.more.one": "1 tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.more.other": "# tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.none": "Nincs tal\u00e1lat", "search.result.one": "1 egyez\u0151 dokumentum", "search.result.other": "# egyez\u0151 dokumentum", "search.result.placeholder": "Keres\u00e9shez \u00edrj ide valamit", "search.result.term.missing": "\u00dcres", "select.version": "Verzi\u00f3v\u00e1lt\u00e1s"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>